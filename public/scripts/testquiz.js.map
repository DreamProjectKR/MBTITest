{
  "version": 3,
  "sources": ["../../src/scripts/legacy/testquiz.js"],
  "sourcesContent": ["/**\n * Quiz page controller (`public/testquiz.html` -> `public/scripts/testquiz.js`).\n *\n * High-level flow:\n * - Load quiz payload via `GET /api/tests/:id/quiz`\n * - Shuffle questions/answers (optional)\n * - Render question prompt image + N answer buttons\n * - POST selections to `POST /api/tests/:id/evaluate`\n * - Navigate to `testresult.html?testId=...&code=OUTCOME`\n */\nconst state = {\n  test: null,\n  currentIndex: 0,\n  totalQuestions: 0,\n  selectedAnswerIds: [],\n};\n\n/**\n * Cached DOM references for render/update.\n * @type {{ progress: HTMLElement|null, image: HTMLImageElement|null, options: HTMLElement|null, pageShell: HTMLElement|null }}\n */\nconst dom = {\n  progress: document.querySelector(\".Progress\"),\n  image: document.querySelector(\".TestImg img\"),\n  options: document.querySelector(\".TestSelectBtn\"),\n  pageShell: document.querySelector(\".PageShell\"),\n};\n\n// `config.js` usually defines `window.ASSETS_BASE` and `window.assetUrl`.\n// Production default: same-origin `/assets/*` (served by Pages Functions proxy).\nconst ASSETS_BASE = window.ASSETS_BASE || \"\";\nconst assetUrl =\n  window.assetUrl ||\n  ((path) => {\n    if (!path) return \"\";\n    if (/^https?:\\/\\//i.test(path)) return path;\n    let clean = String(path).replace(/^\\.?\\/+/, \"\");\n    clean = clean.replace(/^assets\\/+/i, \"\");\n    return `${ASSETS_BASE}/${clean}`.replace(/\\/{2,}/g, \"/\");\n  });\nconst ICONS = {\n  instagram: assetUrl(\"assets/images/instagram.png\"),\n  katalk: assetUrl(\"assets/images/katalk.png\"),\n  naver: assetUrl(\"assets/images/naver.png\"),\n  mail: assetUrl(\"assets/images/mail.png\"),\n};\n\nconst TEST_JSON_CACHE_PREFIX = \"mbtitest:testdata:\";\n\nfunction getTestCacheKey(testId) {\n  if (!testId) return \"\";\n  return `${TEST_JSON_CACHE_PREFIX}${testId}`;\n}\n\nfunction readCachedTestJson(testId) {\n  if (!testId || typeof window === \"undefined\") return null;\n  try {\n    const storage = window.sessionStorage;\n    if (!storage) return null;\n    const raw = storage.getItem(getTestCacheKey(testId));\n    if (!raw) return null;\n    return JSON.parse(raw);\n  } catch (err) {\n    return null;\n  }\n}\n\nfunction persistTestJson(testId, data) {\n  if (!testId || !data || typeof window === \"undefined\") return;\n  try {\n    const storage = window.sessionStorage;\n    if (!storage) return;\n    storage.setItem(getTestCacheKey(testId), JSON.stringify(data));\n  } catch (err) {\n    // Ignore storage failures (quota/private mode)\n  }\n}\n\n/**\n * Generate a random integer in [0, maxExclusive).\n * Uses `crypto.getRandomValues` when available for better randomness.\n * @param {number} maxExclusive\n * @returns {number}\n */\nfunction randomInt(maxExclusive) {\n  const max = Math.floor(Number(maxExclusive));\n  if (!Number.isFinite(max) || max <= 0) return 0;\n\n  // Prefer cryptographically-strong randomness when available.\n  if (\n    typeof crypto !== \"undefined\" &&\n    typeof crypto.getRandomValues === \"function\"\n  ) {\n    const uint32 = new Uint32Array(1);\n    crypto.getRandomValues(uint32);\n    return uint32[0] % max;\n  }\n\n  return Math.floor(Math.random() * max);\n}\n\n/**\n * In-place Fisher-Yates shuffle.\n * @template T\n * @param {T[]} list\n * @returns {T[]}\n */\nfunction shuffleInPlace(list) {\n  if (!Array.isArray(list) || list.length <= 1) return list;\n  for (let i = list.length - 1; i > 0; i -= 1) {\n    const j = randomInt(i + 1);\n    const tmp = list[i];\n    list[i] = list[j];\n    list[j] = tmp;\n  }\n  return list;\n}\n\n/**\n * Clone questions/answers and shuffle them so each run feels fresh.\n * @param {any[]} questions\n * @returns {any[]}\n */\nfunction buildShuffledQuestions(questions) {\n  const base = Array.isArray(questions) ? questions : [];\n  const copied = base.map((q) => {\n    const answers = Array.isArray(q?.answers) ? [...q.answers] : [];\n    return { ...q, answers };\n  });\n\n  shuffleInPlace(copied);\n  copied.forEach((q) => shuffleInPlace(q.answers));\n  return copied;\n}\n\nfunction goToResultPage(code) {\n  const testId = state.test?.id;\n  if (!testId || !code) {\n    renderError(\"\uACB0\uACFC\uB97C \uACC4\uC0B0\uD558\uC9C0 \uBABB\uD588\uC2B5\uB2C8\uB2E4.\");\n    return;\n  }\n\n  const url = new URL(\"./testresult.html\", window.location.href);\n  url.searchParams.set(\"testId\", testId);\n  url.searchParams.set(\"code\", code);\n  window.location.href = url.toString();\n}\n\nfunction getTestIdFromQuery() {\n  const params = new URLSearchParams(window.location.search);\n  const id = params.get(\"testId\");\n  return id ? decodeURIComponent(id) : \"\";\n}\n\nfunction resolveAssetPath(relative) {\n  return assetUrl(relative);\n}\n\nfunction renderError(message) {\n  if (dom.image) {\n    dom.image.alt = message || \"\uC624\uB958\";\n    dom.image.removeAttribute(\"src\");\n  }\n  if (dom.options) {\n    dom.options.innerHTML = \"\";\n    const p = document.createElement(\"p\");\n    p.textContent = message || \"\uD14C\uC2A4\uD2B8\uB97C \uBD88\uB7EC\uC62C \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.\";\n    dom.options.appendChild(p);\n  }\n}\n\n\nfunction ensureProgressFill() {\n  if (!dom.progress) return null;\n  let fill = dom.progress.querySelector(\".ProgressFill\");\n  if (!fill) {\n    fill = document.createElement(\"div\");\n    fill.className = \"ProgressFill\";\n    dom.progress.innerHTML = \"\";\n    dom.progress.appendChild(fill);\n  }\n  return fill;\n}\n\nfunction setProgressVisibility(show) {\n  if (!dom.progress) return;\n  const container = dom.progress.closest(\".ProgressBar\");\n  const target = container || dom.progress;\n  target.style.display = show ? \"\" : \"none\";\n}\n\nfunction toggleResultFooter(show) {\n  const shouldShow = Boolean(show);\n  const footer =\n    document.querySelector(\".QuizFooter\") || document.querySelector(\"footer\");\n  if (!footer) return;\n  footer.style.display = shouldShow ? \"\" : \"none\";\n}\n\nfunction updateProgressBar(index, total) {\n  const fill = ensureProgressFill();\n  if (!fill || !dom.progress) return;\n  const percent =\n    total === 0 ? 0 : Math.min(100, Math.round(((index + 1) / total) * 100));\n  fill.style.width = `${percent}%`;\n  fill.style.setProperty(\"--quiz-progress\", `${percent}%`);\n  dom.progress.setAttribute(\"aria-valuemin\", \"0\");\n  dom.progress.setAttribute(\"aria-valuemax\", \"100\");\n  dom.progress.setAttribute(\"aria-valuenow\", String(percent));\n  dom.progress.title = `\uC9C4\uD589\uB960 ${percent}%`;\n}\n\nfunction renderQuestion() {\n  const question =\n    Array.isArray(state.test?.questions) &&\n    state.test.questions[state.currentIndex]\n      ? state.test.questions[state.currentIndex]\n      : null;\n\n  if (!question) {\n    renderError(\"\uC9C8\uBB38 \uB370\uC774\uD130\uB97C \uCC3E\uC9C0 \uBABB\uD588\uC2B5\uB2C8\uB2E4.\");\n    return;\n  }\n\n  toggleResultFooter(false);\n  setProgressVisibility(true);\n  updateProgressBar(state.currentIndex, state.totalQuestions);\n\n  if (dom.image) {\n    const prompt =\n      typeof question.prompt === \"string\" ? question.prompt : question.prompt?.image;\n    dom.image.src = resolveAssetPath(prompt) || \"#\";\n    dom.image.alt = question.id || `\uBB38\uD56D ${state.currentIndex + 1}`;\n  }\n\n  if (!dom.options) return;\n  dom.options.innerHTML = \"\";\n\n  const answers = Array.isArray(question.answers) ? question.answers : [];\n\n  if (!answers.length) {\n    const empty = document.createElement(\"p\");\n    empty.textContent = \"\uC120\uD0DD\uC9C0\uAC00 \uC900\uBE44\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.\";\n    dom.options.appendChild(empty);\n    return;\n  }\n\n  const frag = document.createDocumentFragment();\n  answers.forEach((answer, idx) => {\n    const btn = document.createElement(\"button\");\n    btn.type = \"button\";\n    btn.className = `select${idx + 1}`;\n    btn.textContent = answer.label || `\uBB38\uD56D ${idx + 1}`;\n    btn.addEventListener(\"click\", () => handleAnswer(answer));\n    frag.appendChild(btn);\n  });\n  dom.options.appendChild(frag);\n}\n\nfunction initializeStateFromTestJson(testJson) {\n  if (!testJson) {\n    renderError(\"\uD14C\uC2A4\uD2B8 \uB370\uC774\uD130\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.\");\n    return false;\n  }\n\n  const questions = buildShuffledQuestions(testJson.questions);\n  const total = Array.isArray(questions) ? questions.length : 0;\n\n  if (!total) {\n    renderError(\"\uBB38\uD56D\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.\");\n    return false;\n  }\n\n  state.test = { ...testJson, questions };\n  state.totalQuestions = total;\n  state.currentIndex = 0;\n  state.selectedAnswerIds = [];\n\n  renderQuestion();\n  return true;\n}\n\nfunction handleAnswer(answer) {\n  const id = String(answer?.id || \"\").trim();\n  if (id) state.selectedAnswerIds.push(id);\n\n  const nextIndex = state.currentIndex + 1;\n  if (nextIndex >= state.totalQuestions) {\n    renderResult();\n    return;\n  }\n\n  state.currentIndex = nextIndex;\n  renderQuestion();\n}\n\nasync function renderResult() {\n  const testId = state.test?.id;\n  if (!testId) return renderError(\"\uD14C\uC2A4\uD2B8 \uC815\uBCF4\uB97C \uCC3E\uC9C0 \uBABB\uD588\uC2B5\uB2C8\uB2E4.\");\n  if (!state.selectedAnswerIds.length)\n    return renderError(\"\uC120\uD0DD\uB41C \uB2F5\uBCC0\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.\");\n\n  try {\n    const apiBase = window.API_TESTS_BASE || \"/api/tests\";\n    const res = await fetch(`${apiBase}/${encodeURIComponent(testId)}/evaluate`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json; charset=utf-8\" },\n      body: JSON.stringify({ answers: state.selectedAnswerIds }),\n    });\n    if (!res.ok) throw new Error(`evaluate ${res.status}`);\n    const data = await res.json();\n    const code = data?.outcome?.code;\n    if (!code) throw new Error(\"missing outcome.code\");\n    goToResultPage(String(code));\n  } catch (err) {\n    console.error(\"\uACB0\uACFC \uACC4\uC0B0 \uC2E4\uD328:\", err);\n    renderError(\"\uACB0\uACFC\uB97C \uACC4\uC0B0\uD558\uC9C0 \uBABB\uD588\uC2B5\uB2C8\uB2E4.\");\n  }\n}\n\nasync function shareCurrentTest(test) {\n  const shareUrl = window.location.href;\n  const title = test?.title || \"MBTI ZOO \uD14C\uC2A4\uD2B8\";\n  try {\n    if (navigator.share) {\n      await navigator.share({\n        title,\n        text: title,\n        url: shareUrl,\n      });\n      return;\n    }\n    await navigator.clipboard.writeText(shareUrl);\n    alert(\"\uB9C1\uD06C\uAC00 \uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4.\");\n  } catch (err) {\n    console.error(\"\uACF5\uC720\uD558\uAE30 \uC2E4\uD328:\", err);\n    alert(\"\uACF5\uC720\uD558\uAE30\uB97C \uC9C4\uD589\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uB9C1\uD06C\uB97C \uC9C1\uC811 \uBCF5\uC0AC\uD574\uC8FC\uC138\uC694.\");\n  }\n}\n\nasync function loadTestData() {\n  const testId = getTestIdFromQuery();\n  if (!testId) {\n    renderError(\"testId \uD30C\uB77C\uBBF8\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.\");\n    return;\n  }\n\n  const cached = readCachedTestJson(testId);\n  if (cached && initializeStateFromTestJson(cached)) {\n    return;\n  }\n\n  try {\n    const apiBase = window.API_TESTS_BASE || \"/api/tests\";\n    const dataRes = await fetch(`${apiBase}/${encodeURIComponent(testId)}/quiz`);\n    if (!dataRes.ok) throw new Error(\"\uD14C\uC2A4\uD2B8 \uB370\uC774\uD130 \uB85C\uB529 \uC2E4\uD328\");\n    const data = await dataRes.json();\n\n    persistTestJson(testId, data);\n    initializeStateFromTestJson(data);\n  } catch (error) {\n    console.error(\"\uD14C\uC2A4\uD2B8 \uD034\uC988 \uB85C\uB529 \uC624\uB958:\", error);\n    renderError(\"\uD14C\uC2A4\uD2B8 \uC815\uBCF4\uB97C \uBD88\uB7EC\uC624\uC9C0 \uBABB\uD588\uC2B5\uB2C8\uB2E4.\");\n  }\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", loadTestData);\n"],
  "mappings": "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",
  "names": []
}
